(window.webpackJsonp=window.webpackJsonp||[]).push([[145],{1466:function(e,t,n){n(1467),n(1468)},1467:function(e,t,n){var o=n(243),r=n(87).extend({type:"series.gauge",getInitialData:function(option,e){return o(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});e.exports=r},1468:function(e,t,n){var o=n(1469),r=n(16),l=n(168),h=n(34),c=h.parsePercent,d=h.round,f=h.linearMap;function m(label,e){return e&&("string"==typeof e?label=e.replace("{value}",null!=label?label:""):"function"==typeof e&&(label=e(label))),label}var y=2*Math.PI,v=l.extend({type:"gauge",render:function(e,t,n){this.group.removeAll();var o=e.get("axisLine.lineStyle.color"),r=function(e,t){var n=e.get("center"),o=t.getWidth(),r=t.getHeight(),l=Math.min(o,r);return{cx:c(n[0],t.getWidth()),cy:c(n[1],t.getHeight()),r:c(e.get("radius"),l/2)}}(e,n);this._renderMain(e,t,n,o,r)},dispose:function(){},_renderMain:function(e,t,n,o,l){for(var h=this.group,c=e.getModel("axisLine"),d=c.getModel("lineStyle"),f=e.get("clockwise"),m=-e.get("startAngle")/180*Math.PI,v=((M=-e.get("endAngle")/180*Math.PI)-m)%y,x=m,w=d.get("width"),S=c.get("show"),i=0;S&&i<o.length;i++){var M=m+v*Math.min(Math.max(o[i][0],0),1),I=new r.Sector({shape:{startAngle:x,endAngle:M,cx:l.cx,cy:l.cy,clockwise:f,r0:l.r-w,r:l.r},silent:!0});I.setStyle({fill:o[i][1]}),I.setStyle(d.getLineStyle(["color","borderWidth","borderColor"])),h.add(I),x=M}var L=function(e){if(e<=0)return o[0][1];for(var i=0;i<o.length;i++)if(o[i][0]>=e&&(0===i?0:o[i-1][0])<e)return o[i][1];return o[i-1][1]};if(!f){var D=m;m=M,M=D}this._renderTicks(e,t,n,L,l,m,M,f),this._renderPointer(e,t,n,L,l,m,M,f),this._renderTitle(e,t,n,L,l),this._renderDetail(e,t,n,L,l)},_renderTicks:function(e,t,n,o,l,h,f,y){for(var v=this.group,x=l.cx,w=l.cy,S=l.r,M=+e.get("min"),I=+e.get("max"),L=e.getModel("splitLine"),D=e.getModel("axisTick"),z=e.getModel("axisLabel"),T=e.get("splitNumber"),_=D.get("splitNumber"),A=c(L.get("length"),S),P=c(D.get("length"),S),k=h,E=(f-h)/T,C=E/_,G=L.getModel("lineStyle").getLineStyle(),V=D.getModel("lineStyle").getLineStyle(),i=0;i<=T;i++){var N=Math.cos(k),H=Math.sin(k);if(L.get("show")){var R=new r.Line({shape:{x1:N*S+x,y1:H*S+w,x2:N*(S-A)+x,y2:H*(S-A)+w},style:G,silent:!0});"auto"===G.stroke&&R.setStyle({stroke:o(i/T)}),v.add(R)}if(z.get("show")){var label=m(d(i/T*(I-M)+M),z.get("formatter")),W=z.get("distance"),B=o(i/T);v.add(new r.Text({style:r.setTextStyle({},z,{text:label,x:N*(S-A-W)+x,y:H*(S-A-W)+w,textVerticalAlign:H<-.4?"top":H>.4?"bottom":"middle",textAlign:N<-.4?"left":N>.4?"right":"center"},{autoColor:B}),silent:!0}))}if(D.get("show")&&i!==T){for(var O=0;O<=_;O++){N=Math.cos(k),H=Math.sin(k);var F=new r.Line({shape:{x1:N*S+x,y1:H*S+w,x2:N*(S-P)+x,y2:H*(S-P)+w},silent:!0,style:V});"auto"===V.stroke&&F.setStyle({stroke:o((i+O/_)/T)}),v.add(F),k+=C}k-=C}else k+=E}},_renderPointer:function(e,t,n,l,h,d,m,y){var v=this.group,x=this._data;if(e.get("pointer.show")){var w=[+e.get("min"),+e.get("max")],S=[d,m],data=e.getData(),M=data.mapDimension("value");data.diff(x).add((function(t){var n=new o({shape:{angle:d}});r.initProps(n,{shape:{angle:f(data.get(M,t),w,S,!0)}},e),v.add(n),data.setItemGraphicEl(t,n)})).update((function(t,n){var o=x.getItemGraphicEl(n);r.updateProps(o,{shape:{angle:f(data.get(M,t),w,S,!0)}},e),v.add(o),data.setItemGraphicEl(t,o)})).remove((function(e){var t=x.getItemGraphicEl(e);v.remove(t)})).execute(),data.eachItemGraphicEl((function(e,t){var n=data.getItemModel(t),o=n.getModel("pointer");e.setShape({x:h.cx,y:h.cy,width:c(o.get("width"),h.r),r:c(o.get("length"),h.r)}),e.useStyle(n.getModel("itemStyle").getItemStyle()),"auto"===e.style.fill&&e.setStyle("fill",l(f(data.get(M,t),w,[0,1],!0))),r.setHoverStyle(e,n.getModel("emphasis.itemStyle").getItemStyle())})),this._data=data}else x&&x.eachItemGraphicEl((function(e){v.remove(e)}))},_renderTitle:function(e,t,n,o,l){var data=e.getData(),h=data.mapDimension("value"),d=e.getModel("title");if(d.get("show")){var m=d.get("offsetCenter"),y=l.cx+c(m[0],l.r),v=l.cy+c(m[1],l.r),x=+e.get("min"),w=+e.get("max"),S=e.getData().get(h,0),M=o(f(S,[x,w],[0,1],!0));this.group.add(new r.Text({silent:!0,style:r.setTextStyle({},d,{x:y,y:v,text:data.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:M,forceRich:!0})}))}},_renderDetail:function(e,t,n,o,l){var h=e.getModel("detail"),d=+e.get("min"),y=+e.get("max");if(h.get("show")){var v=h.get("offsetCenter"),x=l.cx+c(v[0],l.r),w=l.cy+c(v[1],l.r),S=c(h.get("width"),l.r),M=c(h.get("height"),l.r),data=e.getData(),I=data.get(data.mapDimension("value"),0),L=o(f(I,[d,y],[0,1],!0));this.group.add(new r.Text({silent:!0,style:r.setTextStyle({},h,{x:x,y:w,text:m(I,h.get("formatter")),textWidth:isNaN(S)?null:S,textHeight:isNaN(M)?null:M,textAlign:"center",textVerticalAlign:"middle"},{autoColor:L,forceRich:!0})}))}}});e.exports=v},1469:function(e,t,n){var o=n(75).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(e,t){var n=Math.cos,o=Math.sin,r=t.r,l=t.width,h=t.angle,c=t.x-n(h)*l*(l>=r/3?1:2),d=t.y-o(h)*l*(l>=r/3?1:2);h=t.angle-Math.PI/2,e.moveTo(c,d),e.lineTo(t.x+n(h)*l,t.y+o(h)*l),e.lineTo(t.x+n(t.angle)*r,t.y+o(t.angle)*r),e.lineTo(t.x-n(h)*l,t.y-o(h)*l),e.lineTo(c,d)}});e.exports=o},1470:function(e,t,n){var o=n(12);n(1471),n(1472);var r=n(354),l=n(1473),h=n(293);o.registerVisual(r("funnel")),o.registerLayout(l),o.registerProcessor(h("funnel"))},1471:function(e,t,n){var o=n(12),r=n(1),l=n(243),h=n(42).defaultEmphasis,c=n(181).makeSeriesEncodeForNameBased,d=n(292),f=o.extendSeriesModel({type:"series.funnel",init:function(option){f.superApply(this,"init",arguments),this.legendVisualProvider=new d(r.bind(this.getData,this),r.bind(this.getRawData,this)),this._defaultLabelLine(option)},getInitialData:function(option,e){return l(this,{coordDimensions:["value"],encodeDefaulter:r.curry(c,this)})},_defaultLabelLine:function(option){h(option,"labelLine",["show"]);var e=option.labelLine,t=option.emphasis.labelLine;e.show=e.show&&option.label.show,t.show=t.show&&option.emphasis.label.show},getDataParams:function(e){var data=this.getData(),t=f.superCall(this,"getDataParams",e),n=data.mapDimension("value"),o=data.getSum(n);return t.percent=o?+(data.get(n,e)/o*100).toFixed(2):0,t.$vars.push("percent"),t},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}),m=f;e.exports=m},1472:function(e,t,n){var o=n(16),r=n(1),l=n(168);function h(data,e){o.Group.call(this);var polygon=new o.Polygon,t=new o.Polyline,text=new o.Text;this.add(polygon),this.add(t),this.add(text),this.highDownOnUpdate=function(e,n){"emphasis"===n?(t.ignore=t.hoverIgnore,text.ignore=text.hoverIgnore):(t.ignore=t.normalIgnore,text.ignore=text.normalIgnore)},this.updateData(data,e,!0)}var c=h.prototype,d=["itemStyle","opacity"];c.updateData=function(data,e,t){var polygon=this.childAt(0),n=data.hostModel,l=data.getItemModel(e),h=data.getItemLayout(e),c=data.getItemModel(e).get(d);c=null==c?1:c,polygon.useStyle({}),t?(polygon.setShape({points:h.points}),polygon.setStyle({opacity:0}),o.initProps(polygon,{style:{opacity:c}},n,e)):o.updateProps(polygon,{style:{opacity:c},shape:{points:h.points}},n,e);var f=l.getModel("itemStyle"),m=data.getItemVisual(e,"color");polygon.setStyle(r.defaults({lineJoin:"round",fill:m},f.getItemStyle(["opacity"]))),polygon.hoverStyle=f.getModel("emphasis").getItemStyle(),this._updateLabel(data,e),o.setHoverStyle(this)},c._updateLabel=function(data,e){var t=this.childAt(1),n=this.childAt(2),r=data.hostModel,l=data.getItemModel(e),h=data.getItemLayout(e).label,c=data.getItemVisual(e,"color");o.updateProps(t,{shape:{points:h.linePoints||h.linePoints}},r,e),o.updateProps(n,{style:{x:h.x,y:h.y}},r,e),n.attr({rotation:h.rotation,origin:[h.x,h.y],z2:10});var d=l.getModel("label"),f=l.getModel("emphasis.label"),m=l.getModel("labelLine"),y=l.getModel("emphasis.labelLine");c=data.getItemVisual(e,"color");o.setLabelStyle(n.style,n.hoverStyle={},d,f,{labelFetcher:data.hostModel,labelDataIndex:e,defaultText:data.getName(e),autoColor:c,useInsideStyle:!!h.inside},{textAlign:h.textAlign,textVerticalAlign:h.verticalAlign}),n.ignore=n.normalIgnore=!d.get("show"),n.hoverIgnore=!f.get("show"),t.ignore=t.normalIgnore=!m.get("show"),t.hoverIgnore=!y.get("show"),t.setStyle({stroke:c}),t.setStyle(m.getModel("lineStyle").getLineStyle()),t.hoverStyle=y.getModel("lineStyle").getLineStyle()},r.inherits(h,o.Group);var f=l.extend({type:"funnel",render:function(e,t,n){var data=e.getData(),o=this._data,r=this.group;data.diff(o).add((function(e){var t=new h(data,e);data.setItemGraphicEl(e,t),r.add(t)})).update((function(e,t){var n=o.getItemGraphicEl(t);n.updateData(data,e),r.add(n),data.setItemGraphicEl(e,n)})).remove((function(e){var t=o.getItemGraphicEl(e);r.remove(t)})).execute(),this._data=data},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});e.exports=f},1473:function(e,t,n){n(49).__DEV__;var o=n(59),r=n(34),l=r.parsePercent,h=r.linearMap;e.exports=function(e,t,n){e.eachSeriesByType("funnel",(function(e){var data=e.getData(),n=data.mapDimension("value"),r=e.get("sort"),c=function(e,t){return o.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t),d=function(data,e){for(var t=data.mapDimension("value"),n=data.mapArray(t,(function(e){return e})),o=[],r="ascending"===e,i=0,l=data.count();i<l;i++)o[i]=i;return"function"==typeof e?o.sort(e):"none"!==e&&o.sort((function(a,b){return r?n[a]-n[b]:n[b]-n[a]})),o}(data,r),f=e.get("orient"),m=c.width,y=c.height,v=c.x,x=c.y,w="horizontal"===f?[l(e.get("minSize"),y),l(e.get("maxSize"),y)]:[l(e.get("minSize"),m),l(e.get("maxSize"),m)],S=data.getDataExtent(n),M=e.get("min"),I=e.get("max");null==M&&(M=Math.min(S[0],0)),null==I&&(I=S[1]);var L=e.get("funnelAlign"),D=e.get("gap"),z=(("horizontal"===f?m:y)-D*(data.count()-1))/data.count(),T=function(e,t){if("horizontal"===f){var o,r=data.get(n,e)||0,l=h(r,[M,I],w,!0);switch(L){case"top":o=x;break;case"center":o=x+(y-l)/2;break;case"bottom":o=x+(y-l)}return[[t,o],[t,o+l]]}r=data.get(n,e)||0;var c,d=h(r,[M,I],w,!0);switch(L){case"left":c=v;break;case"center":c=v+(m-d)/2;break;case"right":c=v+m-d}return[[c,t],[c+d,t]]};"ascending"===r&&(z=-z,D=-D,"horizontal"===f?v+=m:x+=y,d=d.reverse());for(var i=0;i<d.length;i++){var _=d[i],A=d[i+1],P=data.getItemModel(_);if("horizontal"===f){var k=P.get("itemStyle.width");null==k?k=z:(k=l(k,m),"ascending"===r&&(k=-k));var E=T(_,v),C=T(A,v+k);v+=k+D,data.setItemLayout(_,{points:E.concat(C.slice().reverse())})}else{var G=P.get("itemStyle.height");null==G?G=z:(G=l(G,y),"ascending"===r&&(G=-G));E=T(_,"horizontal"===f?v:x),C=T(A,"horizontal"===f?v+k:x+G);x+=G+D,data.setItemLayout(_,{points:E.concat(C.slice().reverse())})}}!function(data){data.each((function(e){var t,n,o,r,l=data.getItemModel(e),h=l.getModel("label").get("position"),c=l.get("orient"),d=l.getModel("labelLine"),f=data.getItemLayout(e),m=f.points,y="inner"===h||"inside"===h||"center"===h||"insideLeft"===h||"insideRight"===h;if(y)"insideLeft"===h?(n=(m[0][0]+m[3][0])/2+5,o=(m[0][1]+m[3][1])/2,t="left"):"insideRight"===h?(n=(m[1][0]+m[2][0])/2-5,o=(m[1][1]+m[2][1])/2,t="right"):(n=(m[0][0]+m[1][0]+m[2][0]+m[3][0])/4,o=(m[0][1]+m[1][1]+m[2][1]+m[3][1])/4,t="center"),r=[[n,o],[n,o]];else{var v,x,w,S,M=d.get("length");"left"===h?(v=(m[3][0]+m[0][0])/2,x=(m[3][1]+m[0][1])/2,n=(w=v-M)-5,t="right"):"right"===h?(v=(m[1][0]+m[2][0])/2,x=(m[1][1]+m[2][1])/2,n=(w=v+M)+5,t="left"):"top"===h?(v=(m[3][0]+m[0][0])/2,o=(S=(x=(m[3][1]+m[0][1])/2)-M)-5,t="center"):"bottom"===h?(v=(m[1][0]+m[2][0])/2,o=(S=(x=(m[1][1]+m[2][1])/2)+M)+5,t="center"):"rightTop"===h?(v="horizontal"===c?m[3][0]:m[1][0],x="horizontal"===c?m[3][1]:m[1][1],"horizontal"===c?(o=(S=x-M)-5,t="center"):(n=(w=v+M)+5,t="top")):"rightBottom"===h?(v=m[2][0],x=m[2][1],"horizontal"===c?(o=(S=x+M)+5,t="center"):(n=(w=v+M)+5,t="bottom")):"leftTop"===h?(v=m[0][0],x="horizontal"===c?m[0][1]:m[1][1],"horizontal"===c?(o=(S=x-M)-5,t="center"):(n=(w=v-M)-5,t="right")):"leftBottom"===h?(v="horizontal"===c?m[1][0]:m[3][0],x="horizontal"===c?m[1][1]:m[2][1],"horizontal"===c?(o=(S=x+M)+5,t="center"):(n=(w=v-M)-5,t="right")):(v=(m[1][0]+m[2][0])/2,x=(m[1][1]+m[2][1])/2,"horizontal"===c?(o=(S=x+M)+5,t="center"):(n=(w=v+M)+5,t="left")),"horizontal"===c?n=w=v:o=S=x,r=[[v,x],[w,S]]}f.label={linePoints:r,x:n,y:o,verticalAlign:"middle",textAlign:t,inside:y}}))}(data)}))}},1503:function(e,t,n){var o=n(12);n(1504),n(1505);var r=n(222),l=n(291);o.registerVisual(r("effectScatter","circle")),o.registerLayout(l("effectScatter"))},1504:function(e,t,n){var o=n(182),r=n(87).extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(option,e){return o(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});e.exports=r},1505:function(e,t,n){var o=n(12),r=n(290),l=n(1506),h=n(119),c=n(291),d=o.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new r(l)},render:function(e,t,n){var data=e.getData(),o=this._symbolDraw;o.updateData(data),this.group.add(o.group)},updateTransform:function(e,t,n){var data=e.getData();this.group.dirty();var o=c().reset(e);o.progress&&o.progress({start:0,end:data.count()},data),this._symbolDraw.updateLayout(data)},_updateGroupTransform:function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=h.clone(t.getRoamTransform()),this.group.decomposeTransform())},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(t)},dispose:function(){}});e.exports=d}}]);